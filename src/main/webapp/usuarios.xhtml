<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Lista de usuarios</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="https://cdn.tailwindcss.com"></script>
    </h:head>
    <h:body>
        <div>TODO write content</div>
        <p:spinner />
        <h:form>
            <p:commandButton value="Load Usuarios" action="#{usuariosController.loadUsuarios()}" update="usuariosTable" />

            <p:dataTable id="usuariosTable" value="#{usuariosController.usuariosList}" var="usuario">
                <p:column headerText="ID">
                    #{usuario.id}
                </p:column>
                <p:column headerText="Username">
                    #{usuario.nombre}
                </p:column>
                <p:column headerText="Password">
                    #{usuario.password}
                </p:column>
            </p:dataTable>
        </h:form>

        <h:form>
            <p:panel header="Add New Usuario">
                <p:messages id="messages" />
                <p:outputLabel for="username" value="Username:" />
                <p:inputText id="username" value="#{usuariosController.newUsuario.nombre}" />
                <p:outputLabel for="password" value="Password:" />
                <p:inputText id="password" value="#{usuariosController.newUsuario.password}" />
                <p:commandButton value="Save" action="#{usuariosController.saveUsuarios()}" update="usuariosTable messages" />
            </p:panel>
        </h:form>
    </h:body>
</html>
